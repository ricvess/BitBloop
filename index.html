<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mini Games Seru</title>
  <style>
    :root {
      --pink: #ff69b4;
      --pink-dark: #ff1493;
      --bg-grad: linear-gradient(135deg, #FFC0CB, #FFDAB9);
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg-grad);
      color: #333;
      overflow-x: hidden;
    }
    h1, h2, h3 {
      color: var(--pink-dark);
    }
    .hidden { display: none; }

    /* Sidebar */
    #menu-button {
      position: fixed;
      top: 15px;
      left: 15px;
      background-color: var(--pink);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 1.5em;
      cursor: pointer;
      z-index: 1001;
    }
    #sidebar {
      position: fixed;
      top: 0;
      left: -260px;
      width: 250px;
      height: 100%;
      background: white;
      box-shadow: 2px 0 12px rgba(0,0,0,0.2);
      padding: 20px;
      transition: left 0.3s ease;
      z-index: 1000;
    }
    #sidebar.open {
      left: 0;
    }
    #sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #sidebar-header button {
      background: none;
      border: none;
      font-size: 1.5em;
      color: var(--pink-dark);
      cursor: pointer;
    }
    #sidebar-content p {
      margin: 10px 0;
    }
    .sidebar-link {
      display: block;
      margin: 10px 0;
      background-color: var(--pink);
      color: white;
      padding: 10px;
      border-radius: 6px;
      text-align: center;
      text-decoration: none;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .sidebar-link:hover {
      background-color: var(--pink-dark);
    }

    /* Containers */
    .container {
      max-width: 800px;
      margin: 80px auto 30px;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      text-align: center;
    }

    .game-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
    }
    .game-card {
      background: white;
      border: 2px solid var(--pink);
      border-radius: 12px;
      width: 220px;
      padding: 20px;
      text-decoration: none;
      color: #333;
      box-shadow: 0 5px 12px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .game-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
      background-color: #fff0f5;
    }

    .action-button {
      background-color: var(--pink);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      cursor: pointer;
      margin: 10px;
      font-size: 1em;
      transition: background-color 0.3s;
    }
    .action-button:hover {
      background-color: var(--pink-dark);
    }

    /* Memory Game */
    #game-board {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
      gap: 15px;
      margin-top: 20px;
      justify-items: center;
    }
    .card {
      width: 80px;
      height: 100px;
      perspective: 1000px;
      cursor: pointer;
    }
    .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.6s;
    }
    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 8px;
      overflow: hidden;
    }
    .card-front img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .card-back {
      background-color: var(--pink);
      transform: rotateY(180deg);
    }

    /* Hidden Object Game */
    #background-image {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin: 20px auto;
      background: #eee;
      border: 2px solid var(--pink);
      border-radius: 8px;
    }
    .hidden-object {
      position: absolute;
      width: 30px;
      height: 30px;
      background-color: var(--pink-dark);
      border-radius: 50%;
      cursor: pointer;
    }
    .found {
      opacity: 0.3;
      pointer-events: none;
    }

    #message {
      margin-top: 15px;
      font-size: 1.1em;
      color: var(--pink-dark);
      transition: opacity 0.5s;
    }
  </style>
</head>
<body>
  <button id="menu-button">‚â°</button>
  <div id="sidebar">
    <div id="sidebar-header">
      <h3>‚ù§Ô∏è Akun Kamu</h3>
      <button id="close-sidebar">√ó</button>
    </div>
    <div id="sidebar-content">
      <p>Nama: <span id="sidebar-name">Guest User</span></p>
      <p>Points: <span id="sidebar-points">0</span></p>
      <div class="sidebar-link" onclick="goHome()">üè† Home</div>
      <div class="sidebar-link" onclick="showProfile()">üë§ Profile</div>
      <div class="sidebar-link" onclick="resetAccount()">üö™ Logout</div>
    </div>
  </div>

  <div id="main-container" class="container">
    <h1>Selamat Datang di Dunia Game Kita! ‚ù§Ô∏è</h1>
    <p>Pilih game yang ingin kamu mainkan bersama aku:</p>
    <div class="game-list">
      <div class="game-card" onclick="startGame('memory')">
        <h3>Memory Match Kita</h3>
        <p>Uji ingatanmu dengan foto-foto manis kita!</p>
      </div>
      <div class="game-card" onclick="startGame('hidden')">
        <h3>Cari Benda Tersembunyi</h3>
        <p>Temukan benda-benda kenangan kita di foto spesial!</p>
      </div>
    </div>
  </div>

  <div id="game-area" class="container hidden">
    <div id="memory-game" class="hidden">
      <h2>Uji Ingatanmu dengan Foto Kita! ‚ù§Ô∏è</h2>
      <p id="status-message">Klik kartu untuk memulai!</p>
      <div id="game-board"></div>
      <button class="action-button" id="reset-button">Main Lagi</button>
      <button class="action-button" onclick="goHome()">Kembali ke Menu</button>
    </div>
    <div id="hidden-game" class="hidden">
      <h2>Temukan Benda Kenangan Kita! ‚ú®</h2>
      <p>Klik benda-benda yang tersembunyi di foto ini.</p>
      <div id="background-image">
        <div class="hidden-object" id="obj1" style="top: 40%; left: 30%;"></div>
        <div class="hidden-object" id="obj2" style="top: 60%; left: 60%;"></div>
        <div class="hidden-object" id="obj3" style="top: 20%; left: 70%;"></div>
      </div>
      <p>Benda ditemukan: <span id="found-count">0</span> / <span id="total-objects">3</span></p>
      <div id="message"></div>
      <button class="action-button" onclick="goHome()">Kembali ke Menu</button>
    </div>
  </div>

  <div id="profile-area" class="container hidden">
    <h2>üë§ Profile Kamu</h2>
    <label for="name-input">Nama Kamu ‚ù§Ô∏è</label><br>
    <input type="text" id="name-input" placeholder="Nama kamu..." style="margin-top:10px; padding:8px; border-radius:6px; border:1px solid #ccc;">
    <button class="action-button" id="save-name">Simpan Nama</button>
    <p>Total Points: <span id="profile-points">0</span></p>
    <button class="action-button" onclick="goHome()">Kembali ke Menu</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const sidebar = document.getElementById('sidebar');
      const menuButton = document.getElementById('menu-button');
      const closeSidebar = document.getElementById('close-sidebar');
      const sidebarName = document.getElementById('sidebar-name');
      const sidebarPoints = document.getElementById('sidebar-points');
      const profilePoints = document.getElementById('profile-points');
      const nameInput = document.getElementById('name-input');

      menuButton.addEventListener('click', () => sidebar.classList.add('open'));
      closeSidebar.addEventListener('click', () => sidebar.classList.remove('open'));

      let userName = localStorage.getItem('userName') || 'Guest User';
      let userPoints = parseInt(localStorage.getItem('userPoints') || '0');
      updateAccountUI();

      document.getElementById('save-name').addEventListener('click', () => {
        userName = nameInput.value.trim() || 'Guest User';
        localStorage.setItem('userName', userName);
        updateAccountUI();
        goHome();
      });

      function updateAccountUI() {
        sidebarName.textContent = userName;
        sidebarPoints.textContent = userPoints;
        profilePoints.textContent = userPoints;
        nameInput.value = userName;
      }

      function addPoints(points) {
        userPoints += points;
        localStorage.setItem('userPoints', userPoints);
        updateAccountUI();
      }

      window.resetAccount = () => {
        if (confirm('Yakin mau logout? Nama & poin akan direset.')) {
          userName = 'Guest User';
          userPoints = 0;
          localStorage.removeItem('userName');
          localStorage.removeItem('userPoints');
          updateAccountUI();
          goHome();
        }
      };

      const mainContainer = document.getElementById('main-container');
      const gameArea = document.getElementById('game-area');
      const memoryGame = document.getElementById('memory-game');
      const hiddenGame = document.getElementById('hidden-game');
      const profileArea = document.getElementById('profile-area');

      window.goHome = () => {
        mainContainer.classList.remove('hidden');
        gameArea.classList.add('hidden');
        memoryGame.classList.add('hidden');
        hiddenGame.classList.add('hidden');
        profileArea.classList.add('hidden');
        sidebar.classList.remove('open');
      };

      window.showProfile = () => {
        mainContainer.classList.add('hidden');
        gameArea.classList.add('hidden');
        memoryGame.classList.add('hidden');
        hiddenGame.classList.add('hidden');
        profileArea.classList.remove('hidden');
        sidebar.classList.remove('open');
      };

      window.startGame = (type) => {
        mainContainer.classList.add('hidden');
        gameArea.classList.remove('hidden');
        if (type === 'memory') {
          memoryGame.classList.remove('hidden');
          hiddenGame.classList.add('hidden');
          createMemoryBoard();
        } else if (type === 'hidden') {
          hiddenGame.classList.remove('hidden');
          memoryGame.classList.add('hidden');
          initHiddenObjects();
        }
        sidebar.classList.remove('open');
      };

      /* Memory Game */
      const gameBoard = document.getElementById('game-board');
      const resetButton = document.getElementById('reset-button');
      const statusMessage = document.getElementById('status-message');
      const cardImages = [
        'https://picsum.photos/seed/1/100',
        'https://picsum.photos/seed/2/100',
        'https://picsum.photos/seed/3/100',
        'https://picsum.photos/seed/4/100',
        'https://picsum.photos/seed/1/100',
        'https://picsum.photos/seed/2/100',
        'https://picsum.photos/seed/3/100',
        'https://picsum.photos/seed/4/100'
      ];
      let cards = [], flippedCards = [], matchedPairs = 0, lockBoard = false;

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function createMemoryBoard() {
        gameBoard.innerHTML = '';
        cards = []; flippedCards = []; matchedPairs = 0; lockBoard = false;
        statusMessage.textContent = 'Klik kartu untuk memulai!';
        const shuffledImages = shuffle([...cardImages]);
        shuffledImages.forEach((imgSrc, idx) => {
          const card = document.createElement('div');
          card.classList.add('card');
          card.dataset.image = imgSrc;
          card.innerHTML = `
            <div class="card-inner">
              <div class="card-front"><img src="${imgSrc}" alt="Memory"></div>
              <div class="card-back"></div>
            </div>
          `;
          card.addEventListener('click', flipCard);
          gameBoard.appendChild(card);
          cards.push(card);
        });
      }

      function flipCard() {
        if (lockBoard || this === flippedCards[0]) return;
        this.classList.add('flipped');
        flippedCards.push(this);
        if (flippedCards.length === 2) {
          lockBoard = true;
          checkForMatch();
        }
      }

      function checkForMatch() {
        const [card1, card2] = flippedCards;
        const isMatch = card1.dataset.image === card2.dataset.image;
        if (isMatch) {
          statusMessage.textContent = 'Yeay! Cocok! ‚ù§Ô∏è';
          matchedPairs++;
          disableCards();
        } else {
          statusMessage.textContent = 'Aduh, belum cocok. Coba lagi! ü•∫';
          unflipCards();
        }
        if (matchedPairs === cardImages.length / 2) {
          statusMessage.textContent = 'Selamat! Kamu menemukan semua pasangan! üéâ';
          addPoints(10);
        }
      }

      function disableCards() {
        flippedCards.forEach(card => card.classList.add('matched'));
        resetBoard();
      }
      function unflipCards() {
        setTimeout(() => {
          flippedCards.forEach(card => card.classList.remove('flipped'));
          resetBoard();
        }, 1000);
      }
      function resetBoard() {
        flippedCards = [];
        lockBoard = false;
      }
      resetButton.addEventListener('click', createMemoryBoard);

      /* Hidden Object Game */
      const hiddenObjects = document.querySelectorAll('.hidden-object');
      const foundCountSpan = document.getElementById('found-count');
      const totalObjectsSpan = document.getElementById('total-objects');
      const messageDisplay = document.getElementById('message');
      totalObjectsSpan.textContent = hiddenObjects.length;

      function initHiddenObjects() {
        let foundObjects = 0;
        hiddenObjects.forEach(obj => obj.classList.remove('found'));
        foundCountSpan.textContent = foundObjects;
        hiddenObjects.forEach(obj => {
          obj.onclick = () => {
            if (!obj.classList.contains('found')) {
              obj.classList.add('found');
              foundObjects++;
              foundCountSpan.textContent = foundObjects;
              showMessage("Ketemu benda kenangan!");
              if (foundObjects === hiddenObjects.length) {
                setTimeout(() => {
                  showMessage("Hebat! Semua benda ditemukan ‚ù§Ô∏è");
                  addPoints(10);
                }, 800);
              }
            }
          };
        });
      }

      function showMessage(msg) {
        messageDisplay.textContent = msg;
        messageDisplay.style.opacity = 1;
        setTimeout(() => messageDisplay.style.opacity = 0, 3000);
      }

      goHome();
    });
  </script>
</body>
</html>
